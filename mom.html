<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TODO</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous" />
  <link rel="stylesheet" href="style/style.css">
  <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous">
  </script>
  <script defer src="js/main.js"></script>
  <script defer src="js/nav.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      createToDoApp(document.getElementById('todo-app'), 'Дела мамы', 'Мама');
    })
  </script>
  <script>
    async function loadTodoItems() {
      const response = await fetch('http://localhost:3000/api/todos');
      const data = await response.json();
      console.log(data);
    }

    async function createTodoItem() {
      const response = await fetch('http://localhost:3000/api/todos', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          name: 'Сходить за хлебом',
          owner: 'Тимофей'
        })
      });
      const data = await response.json();
      console.log(data);
    }

    async function getTodoItem() {
      const response = await fetch('http://localhost:3000/api/todos/1608029025426');
      const data = await response.json();
      console.log(data);
    }

    async function markTodoAsDone() {
      const response = await fetch('http://localhost:3000/api/todos/1608029025426', {
        method: 'PATCH',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          done: true
        })
      });
      const data = await response.json();
      console.log(data);
    }

    async function deleteTodoItem() {
      const response = await fetch('http://localhost:3000/api/todos/1608029025426', {
        method: 'DELETE',
      });
      if (response.status === 404)
        console.log('Не удалось удалить дело, так как его не существует');
      const data = await response.json();
      console.log(data);
    }
  </script>
</head>

<body>
  <div class="container">

    <div id="navmenu" class="navbar_menu">

      <div class="closemenu_block">
        <a href="#" id="closenav" class="closemenu"><img width="30px" height="30px" src="/img/close.png" alt=""></a>
      </div>

      <ul class="nav-list">
        <li class="nav-item"><a href="index.html" class="nav-link">Мои дела</a></li>
        <li class="nav-item"><a href="dad.html" class="nav-link">Дела папы</a></li>
        <li class="nav-item"><a href="mom.html" class="nav-link">Дела мамы</a></li>
      </ul>
    </div>

    <div class="navbtn_block">
      <a id="navbtn" href="#" class="navbtn"> <img width="40px" height="40px" src="/img/menu.png" alt="navbtn"></a>
    </div>


    <div id="todo-app" class="container mt-5"></div>

  </div>

</body>

</html>